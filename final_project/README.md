# Консольный чат

Простой консольный чат, написанный на C++17 и  протестированный в ОС Ubuntu 20.04.

### Описание 
Консольный чат обладает следующим базовым функционалом:
- консольная программа;
- регистрация пользователей - логин, пароль;
- вход в чат по логину/паролю;
- отправка сообщений конкретному пользователю;
- обмен сообщениями между всеми пользователями чата одновременно.

Дополнительный функционал чата:
- запоминается и выводится время отправки сообщения;
- все пароли хранятся в хэшированном виде с помощью алгоритма SHA256 (а значит, защищены от взлома);
- в чате есть подсветка сообщений.

В текущей реализации он работает на 1 компьютере в 1 процессе без доступа к сети. Алгоритм работы с чатом следующий:
1. _Пользователь 1_ заходит в чат
1. _Пользователь 1_ пишет сообщения
1. _Пользователь 1_ выходит из чата, закрывая программу
1. _Пользователь 2_ заходит в чат (в ту же программу на том же компьютере)
1. _Пользователь 2_ пишет сообщения
1. _Пользователь 2_ выходит из чата, закрывая программу
1. Шаги 1-3 повторяются для всех остальных пользователей


### Структура проекта
- _3rd-party_ - папка со сторонними библиотеками (сейчас они все header-only)
- _chat_data_ - папка с сообщениями и аккаунтами пользователей в json-формате
- _media_ - папка, содержащая медиа файлы для данного README
- _run.sh_ - скрипт для сборки и запуска чата через терминал Linux и компилятор g++
- _*.hpp, *.cpp_ - заголовочные и исходные файлы чата

### Описание пользовательских типов данных
- [App](app.hpp) - класс программы чата с интерфейсом (TUI)
- [Message](message.hpp) - класс, хранящий информацию об отдельном сообщении
- [DateTime](datetime.hpp), [Time](datetime.hpp), [Time](datetime.hpp) - классы хранящие информацию о дате и времени
- ~~[User](user.hpp) - класс, хранящий информацию об отдельном пользователе~~


### Использованные библиотеки
- [termcolor](https://github.com/ikalnytskyi/termcolor/tree/master)
- ~~[nlohmann/json](https://github.com/nlohmann/json)~~
- [PicoSHA2](https://github.com/okdshin/PicoSHA2)

### Компиляция и запуск программы

1. Через bash-скрипт
```bash
chmod +x run.sh
./run.sh
```
2. С помощью Makefile
```bash
make
make clean
./final_project
```

### Пример использования

![chat demo](media/chat_demo.gif)

### TODO:
- [x] Дополнять файлы с пользователями и историей, а не перезаписывать с нуля при добавлении нового элемента
- [ ] Улучшить TUI
- [ ] Использовать паттерн MVC для отделения логики от UI
- [ ] Шифровать сообщения, хранящиеся в файле
- [ ] Добавить возможность работы по сети
- [ ] Вернуть возможность писать всем пользователям
- [ ] Добавить возможность создавать логин с пробелом
- [x] Заменить кастомную хэш-таблицу на `std::unordered_map`